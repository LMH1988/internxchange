<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>InternXchange | Meet the Talent</title>

  <!-- Fonts + CSS -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />

  <style>
    /* Reusing your base style but upgrading it */
    .profile-form,
    .profiles-grid,
    .search-filters {
      max-width: 1000px;
      margin: 2rem auto;
      padding: 1rem;
    }

    .profile-form input,
    .profile-form textarea {
      width: 100%;
      padding: 0.8rem;
      margin-bottom: 1rem;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 1rem;
    }

    .profile-form button {
      padding: 0.8rem 2rem;
      background-color: #0077b6;
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
    }

    .search-filters {
      display: flex;
      gap: 1rem;
      justify-content: space-between;
      flex-wrap: wrap;
    }

    .search-filters input,
    .search-filters select {
      flex: 1;
      padding: 0.8rem;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 1rem;
      min-width: 200px;
    }

    .profiles-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
    }

    .profile-card {
      background: white;
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      transition: transform 0.3s ease;
    }

    .profile-card:hover {
      transform: scale(1.02);
    }

    .profile-card h3 {
      margin-top: 0;
      color: #0077b6;
    }

    .profile-card p {
      margin: 0.5rem 0;
    }

    .profile-links a {
      margin-right: 1rem;
      color: #00c9a7;
      text-decoration: none;
      font-weight: 500;
    }

    .empty-state {
      text-align: center;
      font-style: italic;
      color: #777;
      margin-top: 2rem;
    }
  </style>
</head>

<body>
  <!-- Nav -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="index.html" class="logo">InternXchange</a>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="profiles.html" class="active">Profiles</a></li>
        <li><a href="employers.html">Employer Board</a></li>
      </ul>
    </div>
  </nav>

  <!-- Hero -->
  <header class="hero">
    <div class="hero-content">
      <h1>Meet the Talent</h1>
      <p class="tagline">Real people. Real potential. More than just a CV.</p>
    </div>
  </header>

  <!-- Filters -->
  <section class="search-filters">
    <input type="text" id="searchInput" placeholder="Search name, skills or intro...">
    <select id="skillFilter">
      <option value="">All Skills</option>
      <option value="frontend">Frontend</option>
      <option value="backend">Backend</option>
      <option value="uiux">UI/UX</option>
      <option value="cybersecurity">Cybersecurity</option>
      <option value="data">Data</option>
    </select>
  </section>

  <!-- Profile Form -->
  <section class="profile-form">
    <h2>Create Your Profile</h2>
    <form id="profileForm">
      <input type="text" id="profileName" placeholder="Your Name" required />
      <input type="text" id="profileOffer" placeholder="I can offer..." required />
      <input type="text" id="profileWant" placeholder="I want to learn..." required />
      <textarea id="profileBio" placeholder="Short personal intro..." required></textarea>
      <input type="url" id="profileGitHub" placeholder="GitHub URL (optional)" />
      <input type="url" id="profileLinkedIn" placeholder="LinkedIn URL (optional)" />
      <button type="submit">Add Me</button>
    </form>
  </section>

  <!--  Profile Cards -->
  <section class="profiles-grid" id="profilesGrid">
    <!-- Cards go here -->
  </section>

  <!--  If no matches -->
  <p id="noResults" class="empty-state" style="display: none;">No profiles match your search right now.</p>

  <script>
    const profilesGrid = document.getElementById("profilesGrid");
    const noResults = document.getElementById("noResults");
    const searchInput = document.getElementById("searchInput");
    const skillFilter = document.getElementById("skillFilter");
    const profileForm = document.getElementById("profileForm");

    let profiles = [];

    // Add new profile
    profileForm.addEventListener("submit", function (e) {
      e.preventDefault();

      const newProfile = {
        name: document.getElementById("profileName").value,
        offer: document.getElementById("profileOffer").value.toLowerCase(),
        want: document.getElementById("profileWant").value.toLowerCase(),
        bio: document.getElementById("profileBio").value,
        github: document.getElementById("profileGitHub").value,
        linkedin: document.getElementById("profileLinkedIn").value
      };

      profiles.push(newProfile);
      renderProfiles(profiles);
      this.reset();
    });

    // Filter as user types/selects
    searchInput.addEventListener("input", () => filterProfiles());
    skillFilter.addEventListener("change", () => filterProfiles());

    function filterProfiles() {
      const keyword = searchInput.value.toLowerCase();
      const skill = skillFilter.value.toLowerCase();

      const filtered = profiles.filter(p =>
        (p.name.toLowerCase().includes(keyword) ||
         p.offer.includes(keyword) ||
         p.want.includes(keyword) ||
         p.bio.toLowerCase().includes(keyword)) &&
        (skill === "" || p.offer.includes(skill) || p.want.includes(skill))
      );

      renderProfiles(filtered);
    }

    function renderProfiles(data) {
      profilesGrid.innerHTML = "";
      if (data.length === 0) {
        noResults.style.display = "block";
        return;
      }

      noResults.style.display = "none";
      data.forEach(profile => {
        const card = document.createElement("div");
        card.classList.add("profile-card");
        card.innerHTML = `
          <h3>${profile.name}</h3>
          <p><strong>Can offer:</strong> ${profile.offer}</p>
          <p><strong>Wants to learn:</strong> ${profile.want}</p>
          <p>${profile.bio}</p>
          <div class="profile-links">
            ${profile.github ? `<a href="${profile.github}" target="_blank">GitHub</a>` : ""}
            ${profile.linkedin ? `<a href="${profile.linkedin}" target="_blank">LinkedIn</a>` : ""}
          </div>
        `;
        profilesGrid.appendChild(card);
      });
    }
  </script>
</body>
</html>
